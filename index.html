<html>
<head>
    <title> Philadise Log-in</title>
    
    
          <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.2/firebase.js"></script>
    <link rel="stylesheet" type="text/css" href="stylelog.css">   
    
    
    
    </head>
    <body>
        <div class="login-box">
            <img src="1.jpg" class="avatar">
                <h1>Login Here</h1>
                    <form>
                    <p>Username</p>
                    <input type="text" id = "user" name="username" placeholder="Enter Username">
                    <p>Password</p>
                    <input type="password" id = "pass" name="password" placeholder="Enter Password">
                 
                        <button type="button" class="button" onclick="login()">Login</button>
                        <br>
                        <br>
                       <a href="#" onclick="guest()">Guest</a> or  <a href="#" onclick="register()">Register</a> 
                        <br>
                        <br>
                       
                     
                        
                     <a href="#">Forget Password</a>
                        
                    </form>
        
     
        
        </div>
     <script>
 // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAr_pJWlvXEUEySNCOzCE3TYFVzXHFILZs",
    authDomain: "philadise-d976c.firebaseapp.com",
    databaseURL: "https://philadise-d976c.firebaseio.com",
    projectId: "philadise-d976c",
    storageBucket: "philadise-d976c.appspot.com",
    messagingSenderId: "7139434211"
  };
  firebase.initializeApp(config);
</script>
        
   <script>
          var db=firebase.firestore();
function guest()
    {
        localStorage.setItem( 'objectToPass', "guest");
       window.location.href = "file:///C:/Users/clark/Desktop/philadise/Web/file/philadise/philadisemain.html?#";
    }
	function register()
    {
    
           window.location.href =  "file:///C:/Users/clark/Desktop/philadise/Web/file/registration/register.html";
    }

	function login()
    {
            var txt1 = document.getElementById("user");
            var txt2 = document.getElementById("pass");
            var temp = 0;
            
            
            db.collection("users").get()
    .then(function(querySnapshot) {
        querySnapshot.forEach(function(doc) {
            var name = doc.data().name;
          
            if(txt1.value === doc.data().username && txt2.value === doc.data().password)
                {
                    alert("Account found");
           window.location.href ="file:///C:/Users/clark/Desktop/philadise/Web/file/philadise/philadisemain.html?#";
                    temp = 1;
                    localStorage.setItem( 'objectToPass', name);
                    document.getElementById("txtname").value = "";
                     document.getElementById("txtpass").value = "";
                }
        });
       if(temp ==0)
           {
               alert("Account not found");
                 document.getElementById("txtname").value = "";
                     document.getElementById("txtpass").value = "";
           }
    });
          
        
        
    }
</script>
  
        
    </body>


</html>
